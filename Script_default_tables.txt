/* Modifying Database */

CREATE TABLE CAR (
    ID               INTEGER NOT NULL,
    ID_FACTORY       INTEGER,
    ID_MODELS		 INTEGER,
    ID_EQUIPMENT     INTEGER,
    "YEAR"           INTEGER,
	ID_CAR_MODELS	 INTEGER
);
ALTER TABLE CAR ADD PRIMARY KEY (ID);

CREATE TABLE "ORDER" (
    ID           INTEGER NOT NULL,
    ID_CAR       INTEGER,
    ID_CLIENT    INTEGER,
    ID_EMPLOYEE  INTEGER,
    PRICE        VARCHAR(10)
);
ALTER TABLE "ORDER" ADD CONSTRAINT PK_ORDER PRIMARY KEY (ID);

CREATE TABLE CLIENT (
    ID           INTEGER NOT NULL,
    FIRST_NAME   CHAR(10),
    SECOND_NAME  CHAR(10),
    ADDRESS      CHAR(30),
    PHONE        CHAR(10)
);
ALTER TABLE CLIENT ADD CONSTRAINT PK_CLIENT PRIMARY KEY (ID);

CREATE TABLE EMPLOYEE (
    ID           INTEGER NOT NULL,
    FIRST_NAME   CHAR(10),
    SECOND_NAME  CHAR(10),
    ADDRESS      CHAR(30),
    PHONE        CHAR(10)
);
ALTER TABLE EMPLOYEE ADD CONSTRAINT PK_EMPLOYEE PRIMARY KEY (ID);

CREATE TABLE FACTORY (
    ID       INTEGER NOT NULL,
    COUNTRY  CHAR(10),
    CITY     CHAR(10),
    ADDRESS  CHAR(10),
    PHONE    CHAR(10)
);
ALTER TABLE FACTORY ADD CONSTRAINT PK_FACTORY PRIMARY KEY (ID);

CREATE TABLE CAR_MODELS (
    ID    INTEGER NOT NULL,
    NAME  CHAR(10)
);
ALTER TABLE CAR_MODELS ADD CONSTRAINT PK_CAR_MODELS PRIMARY KEY (ID);

CREATE TABLE CAR_BODY_TYPE (
    ID    INTEGER NOT NULL,
    NAME  CHAR(10)
);
ALTER TABLE CAR_BODY_TYPE ADD CONSTRAINT PK_CAR_BODY_TYPE PRIMARY KEY (ID);

CREATE TABLE CAR_EQUIPMENT (
    ID    INTEGER NOT NULL,
    NAME  CHAR(10)
);
ALTER TABLE CAR_EQUIPMENT ADD CONSTRAINT PK_CAR_EQUIPMENT PRIMARY KEY (ID);

CREATE TABLE CONFIGURATION 
(
  ID_CONFIGURATION              INTEGER         NOT NULL,
  ID_MODELS                     INTEGER,
  ID_EQUIPMENT                  INTEGER,
  ID_OPTIONS				    INTEGER
);
ALTER TABLE CONFIGURATION ADD CONSTRAINT PK_CONFIGURATION PRIMARY KEY (ID_CONFIGURATION);

CREATE TABLE OPTIONS (
    ID    INTEGER NOT NULL,
    NAME  CHAR(10)
);
ALTER TABLE OPTIONS ADD CONSTRAINT PK_OPTIONS PRIMARY KEY (ID);


/************************************Foreign keys************************************/
ALTER TABLE "ORDER" ADD CONSTRAINT FK_ORDER_1 FOREIGN KEY (ID_CLIENT) REFERENCES CLIENT(ID);
ALTER TABLE "ORDER" ADD CONSTRAINT FK_ORDER_2 FOREIGN KEY (ID_EMPLOYEE) REFERENCES EMPLOYEE (ID);
ALTER TABLE "ORDER" ADD CONSTRAINT FK_ORDER_3 FOREIGN KEY (ID_CAR) REFERENCES CAR (ID);

ALTER TABLE "CAR" ADD CONSTRAINT FK_CAR_1 FOREIGN KEY (ID_FACTORY) REFERENCES FACTORY (ID);
ALTER TABLE "CAR" ADD CONSTRAINT FK_CAR_2 FOREIGN KEY (ID_CAR_MODELS) REFERENCES CAR_MODELS (ID);
ALTER TABLE "CAR" ADD CONSTRAINT FK_CAR_3 FOREIGN KEY (ID_EQUIPMENT) REFERENCES CAR_EQUIPMENT (ID);

ALTER TABLE CONFIGURATION ADD CONSTRAINT FK_CONFIGURATION_1 FOREIGN KEY (ID_EQUIPMENT) REFERENCES CAR_EQUIPMENT(ID);
ALTER TABLE CONFIGURATION ADD CONSTRAINT FK_CONFIGURATION_2 FOREIGN KEY (ID_MODELS) REFERENCES CAR_MODELS(ID);
ALTER TABLE CONFIGURATION ADD CONSTRAINT FK_CONFIGURATION_3 FOREIGN KEY (ID_OPTIONS) REFERENCES OPTIONS(ID);




